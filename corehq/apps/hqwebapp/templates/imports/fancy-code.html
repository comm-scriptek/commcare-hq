{% load hq_shared_tags %}
{% include "imports/bootstrap.google-prettify.html" %}
<script type="text/javascript" src="{% static 'hqstyle/js/jquery/plugins/jquery.selectText.js' %}"></script>

<script>
    $(function() {
        var $codeBlock = $(".fancy-code"),
            original_xml = $codeBlock.find("code").text(),
            code_selected = false;
        prettyPrint();
        var formatted_block = $codeBlock.html();
        $codeBlock.dblclick(function() {
           if(!code_selected) {
               $(this).text(original_xml);
               $(this).selText();
               code_selected = true;
           }
        });
        $(document).click(function() {
            if(code_selected) {
                code_selected = false;
                $codeBlock.html(formatted_block);
            }
        });
    });
</script>
